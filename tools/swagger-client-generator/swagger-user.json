{"swagger": "2.0", "info": {"version": "1.2.0", "title": "User Management API"}, "schemes": ["http", "https"], "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Bearer": {"description": "For accessing the API a valid JWT token must be passed in all the queries in\nthe 'Authorization' header.\n\nA valid JWT token is generated by the API and returned.\n\nThe following syntax must be used in the 'Authorization' header :\n    Bearer: xxxxxx.yyyyyyy.zzzzzz\n", "type": "apiKey", "name": "Authorization", "in": "header", "x-apikeyInfoFunc": "oidc_user_mngt.utils.connexion_auth.api_key_info"}, "UserAPIKey": {"description": "Login using the user credentials. Username is the email address. Password is\nthe API Key.\n", "type": "basic", "x-basicInfoFunc": "oidc_user_mngt.utils.connexion_auth.basic_auth_info"}}, "paths": {"/oidc/authenticate": {"get": {"tags": ["Oidc"], "description": "Redirect to the OIDC authenticate endpoint.", "produces": ["text/plain"], "x-swagger-router-controller": "oidc_user_mngt.controllers.oidc", "operationId": "authenticate", "responses": {"302": {"description": "Redirect to the OIDC authenticate endpoint"}}}}, "/oidc/token": {"get": {"tags": ["Oidc"], "description": "Retrieve the user access and identity tokens using either the code or the refresh_token.", "deprecated": true, "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.oidc", "operationId": "token", "parameters": [{"name": "code", "in": "query", "required": false, "type": "string", "description": "The oidc code response"}, {"name": "refresh_token", "in": "query", "required": false, "type": "string", "description": "The oidc code response"}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/OidcTokenResponse"}}}}, "post": {"tags": ["Oidc"], "description": "Retrieve the user access and identity tokens using either the code or the refresh_token.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.oidc", "operationId": "create_tokens", "parameters": [{"name": "body", "in": "body", "schema": {"title": "CreateTokensRequestBody", "type": "object", "properties": {"code": {"type": "string", "description": "The oidc code response"}, "refresh_token": {"type": "string", "description": "The refresh token"}}}}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/OidcTokenResponse"}}}}}, "/oidc/register_user": {"post": {"tags": ["Oidc"], "description": "Register a new user, provided a valid access_token and id_token from the oidc provider.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.oidc", "operationId": "register_user", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "title": "RegisterUserRequestBody", "properties": {"access_token": {"type": "string", "description": "OIDC access_token signed by the provider"}, "id_token": {"type": "string", "description": "OIDC id_token signed by the provider"}}, "required": ["access_token", "id_token"]}}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/UserDetails"}}}}}, "/user/impersonate": {"post": {"tags": ["Users"], "security": [{"Bearer": []}, {"UserAPIKey": []}], "description": "Request an impersonate user token.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "impersonate_user_token", "parameters": [{"name": "body", "in": "body", "required": true, "schema": {"type": "object", "title": "ImpersonateUserTokenRequestBody", "required": ["target_user_key", "impersonate_secret"], "properties": {"target_user_key": {"type": "string"}, "impersonate_secret": {"type": "string"}}}}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/TokenResponse"}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "403": {"description": "The user that's performing this operation does not have permission or the impersonate secret isn't valid.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/user/service_accounts": {"get": {"deprecated": true, "tags": ["Users"], "security": [{"Bearer": []}], "description": "List all service accounts of your user", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "service_accounts_list", "responses": {"200": {"description": "OK", "schema": {"type": "array", "items": {"$ref": "#/definitions/ServiceAccount"}}}}}, "post": {"deprecated": true, "tags": ["Users"], "security": [{"Bearer": []}], "description": "Create a new service accounts for your user", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "service_accounts_create", "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/ServiceAccount"}}}}}, "/user/api_key": {"get": {"tags": ["Users"], "security": [{"Bearer": []}], "description": "Show the API Key for your user", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "api_key_get", "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/ApiKey"}}}}, "post": {"tags": ["User"], "security": [{"Bearer": []}], "description": "Create an API Key for your user", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "api_key_create", "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/ApiKey"}}}}}, "/user/token": {"post": {"tags": ["Users"], "security": [{"Bearer": []}, {"UserAPIKey": []}], "description": "Request a user API token", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "get_access_token", "parameters": [{"name": "options", "in": "body", "required": false, "schema": {"type": "object", "title": "GetAccessTokenRequestBody", "properties": {"admin": {"type": "boolean", "default": false}}}}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/AccessToken"}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/user/search": {"get": {"tags": ["Users"], "security": [{"Bearer": []}], "description": "Search for users matching the email or name. Depending on the user's permissions, only owners and assignees from their projects may be shown.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "search", "parameters": [{"name": "term", "in": "query", "required": true, "type": "string", "description": "Search term"}], "responses": {"200": {"description": "OK", "schema": {"type": "array", "items": {"$ref": "#/definitions/UserDetails"}}}}}}, "/user/current": {"get": {"tags": ["Users"], "security": [{"Bearer": []}], "description": "Gets the current user's details.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.user", "operationId": "get_current_user_details", "parameters": [], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/UserDetails"}}}}}, "/projects": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "List all projects assigned to a user", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "list_projects", "parameters": [{"name": "role", "in": "query", "required": false, "type": "string", "description": "filter for the user role"}, {"name": "include_collaborators", "in": "query", "required": false, "type": "boolean", "default": true}], "responses": {"200": {"description": "OK", "schema": {"type": "array", "items": {"$ref": "#/definitions/Project"}}}, "404": {"description": "Project does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}, "post": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Create a new project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "create", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "title": "CreateProjectRequestBody", "properties": {"name": {"type": "string", "description": "Name of the project"}, "proj_key": {"type": "string", "description": "Internal project key to use. (use only if you really know what you are doing)"}}, "required": ["name"]}}], "responses": {"200": {"description": "New project details", "schema": {"$ref": "#/definitions/Project"}}}}}, "/projects/{proj_key}/is_authorized": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Provide user-key and project-key to coordinates a project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "is_authorized", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "role", "in": "query", "required": false, "type": "string", "description": "The specific role to probe"}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/SuccessMessage"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/projects/{proj_key}/delete": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Get a delete confirmation token for the provided project.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "get_delete_confirmation_token", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}], "responses": {"200": {"description": "Confirmation token.", "schema": {"$ref": "#/definitions/TokenResponse"}}, "403": {"description": "The user that is executing this operation is not an owner of the project.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project not found.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "409": {"description": "User not assigned to project.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/projects/{proj_key}": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Returns the details of the project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "details", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/Project"}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}, "delete": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Delete a project.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "delete", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "confirmation_token", "in": "query", "required": true, "type": "string", "description": "The delete confirmation token"}], "responses": {"204": {"description": "Project deleted successfully."}, "403": {"description": "The user that is executing this operation is not an owner of the project.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project not found.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "409": {"description": "User not assigned to project.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/projects/{proj_key}/users": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "List all users belonging to a project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "list_users", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}], "responses": {"200": {"description": "OK", "schema": {"type": "object", "additionalProperties": {"type": "array", "items": {"$ref": "#/definitions/UserDetails"}}}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "User does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}, "post": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Assign a new user to a project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "add_user", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/ProjectUserAssignment"}}], "responses": {"200": {"description": "User assigned to project.", "schema": {"$ref": "#/definitions/SuccessMessage"}}, "400": {"description": "Invalid new_user_type.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "403": {"description": "The user that's performing this operation does not have permission to assign the user.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "User that's going to be assigned doesn't exist, or the project doesn't exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "409": {"description": "Reassigning the user would leave the project in an invalid state.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}, "put": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Assign a new user to a project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "edit_user", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/ProjectUserAssignment"}}], "responses": {"200": {"description": "User assigned to project.", "schema": {"$ref": "#/definitions/SuccessMessage"}}, "400": {"description": "Invalid new_user_type.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "403": {"description": "The user that's performing this operation does not have permission to assign the user.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "User that's going to be assigned doesn't exist, or the project doesn't exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "409": {"description": "Reassigning the user would leave the project in an invalid state.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/projects/{proj_key}/users_paginated": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "List all users belonging to a cps project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "list_users_paginated", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "page", "in": "query", "description": "page of the result list", "required": false, "type": "integer"}, {"name": "items_per_page", "in": "query", "description": "items on one page of the result list", "required": false, "default": 2, "type": "integer"}], "responses": {"200": {"description": "OK", "schema": {"type": "object", "additionalProperties": {"type": "array", "items": {"$ref": "#/definitions/UserDetails"}}}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "User does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/projects/{proj_key}/users/{username}": {"delete": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Delete an user from a project.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "remove_user", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "username", "in": "path", "required": true, "type": "string", "description": "The username for the user"}], "responses": {"204": {"description": "User deleted from project successfully."}, "403": {"description": "The user that is executing this operation is not an owner of the project.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project or user not found.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "409": {"description": "User not assigned to project, or the project only has one owner left.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/projects/{proj_key}/token": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "Request a token granting access to the current project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "get_project_token", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/AccessToken"}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/projects/{proj_key}/audits": {"get": {"tags": ["Projects"], "security": [{"Bearer": []}], "description": "List audits related to the project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.project", "operationId": "list_audits_in_project", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "user_key", "in": "query", "required": false, "type": "string"}, {"name": "type_", "in": "query", "type": "string", "required": false}, {"name": "search_term", "in": "query", "type": "string", "required": false}, {"name": "before", "in": "query", "type": "string", "format": "datetime", "required": false}, {"name": "after", "in": "query", "type": "string", "format": "datetime", "required": false}, {"name": "limit", "in": "query", "type": "integer", "default": 50}], "responses": {"200": {"description": "OK", "schema": {"type": "object", "required": ["audits"], "properties": {"audits": {"type": "array", "items": {"$ref": "#/definitions/AuditRecord"}}}}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/permissions": {"get": {"tags": ["Settings"], "security": [{"Bearer": []}], "description": "Get the global permissions for users.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.global", "operationId": "global_permissions", "responses": {"200": {"description": "OK", "schema": {"type": "object", "additionalProperties": {"type": "boolean"}}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/admin/users/pending": {"get": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "List pending user requests.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "list_pending_users", "parameters": [{"name": "term", "type": "string", "in": "query", "required": false}], "responses": {"200": {"description": "OK", "schema": {"type": "array", "items": {"$ref": "#/definitions/UserDetails"}}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/admin/users/{user_key}/confirmation": {"post": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "Confirm a pending user.", "consumes": ["application/json"], "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "confirm_user", "parameters": [{"name": "user_key", "in": "path", "required": true, "type": "string"}], "responses": {"200": {"description": "OK"}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/admin/projects/all": {"get": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "List all projects", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "list_all_projects", "responses": {"200": {"description": "OK", "schema": {"type": "array", "items": {"$ref": "#/definitions/Project"}}}, "404": {"description": "Project does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/admin/audits": {"get": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "List audits globally", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "list_audits", "parameters": [{"name": "user_key", "in": "query", "required": false, "type": "string"}, {"name": "type_", "in": "query", "type": "string", "required": false}, {"name": "search_term", "in": "query", "type": "string", "required": false}, {"name": "before", "in": "query", "type": "string", "format": "datetime", "required": false}, {"name": "after", "in": "query", "type": "string", "format": "datetime", "required": false}, {"name": "limit", "in": "query", "type": "integer", "default": 50}], "responses": {"200": {"description": "OK", "schema": {"type": "object", "required": ["audits"], "properties": {"audits": {"type": "array", "items": {"$ref": "#/definitions/AuditRecord"}}}}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/admin/projects/{proj_key}/users": {"get": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "List all users belonging to a cps project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "admin_list_users", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "page", "in": "query", "description": "page of the result list", "required": false, "type": "integer"}, {"name": "items_per_page", "in": "query", "description": "items on one page of the result list", "required": false, "default": 2, "type": "integer"}], "responses": {"200": {"description": "OK", "schema": {"type": "object", "additionalProperties": {"type": "array", "items": {"$ref": "#/definitions/UserDetails"}}}}, "401": {"description": "Unauthorized.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "User does not exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}, "post": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "Assign a new user to a project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "admin_add_user", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/ProjectUserAssignment"}}], "responses": {"200": {"description": "User assigned to project.", "schema": {"$ref": "#/definitions/SuccessMessage"}}, "400": {"description": "Invalid new_user_type.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "403": {"description": "The user that's performing this operation does not have permission to assign the user.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "User that's going to be assigned doesn't exist, or the project doesn't exist.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "409": {"description": "Reassigning the user would leave the project in an invalid state.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/admin/projects/{proj_key}/users/{username}": {"delete": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "Delete an user from a project.", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "admin_remove_user", "parameters": [{"name": "proj_key", "in": "path", "required": true, "type": "string", "description": "The project key"}, {"name": "username", "in": "path", "required": true, "type": "string", "description": "The username for the user"}], "responses": {"204": {"description": "User deleted from project successfully."}, "403": {"description": "The user that is executing this operation is not an owner of the project.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "404": {"description": "Project or user not found.", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "409": {"description": "User not assigned to project, or the project only has one owner left.", "schema": {"$ref": "#/definitions/ErrorResponse"}}}}}, "/admin/projects": {"post": {"tags": ["Admin"], "security": [{"Bearer": []}], "description": "Create a new project", "produces": ["application/json"], "x-swagger-router-controller": "oidc_user_mngt.controllers.admin", "operationId": "create_project", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"type": "object", "title": "CreateProjectRequestBody", "properties": {"name": {"type": "string", "description": "Name of the project"}, "proj_key": {"type": "string", "description": "Internal project key to use. (use only if you really know what you are doing)"}}, "required": ["name"]}}], "responses": {"200": {"description": "New project details", "schema": {"$ref": "#/definitions/Project"}}}}}}, "definitions": {"ErrorResponse": {"type": "object", "properties": {"error": {"type": "string", "description": "Description of the error."}}, "required": ["error"]}, "UserDetails": {"type": "object", "properties": {"username": {"type": "string"}, "email": {"type": "string"}, "role": {"type": "string"}}}, "UserType": {"type": "string", "enum": ["assignee", "owner"]}, "ServiceAccount": {"type": "object", "required": ["user_key"], "properties": {"user_key": {"type": "string"}, "name": {"type": "string"}, "credentials": {"type": "object", "required": ["username", "password"], "properties": {"username": {"type": "string"}, "password": {"type": "string"}}}}}, "TokenResponse": {"type": "object", "properties": {"token": {"type": "string", "description": "The delete confirmation token."}}, "required": ["token"]}, "Project": {"type": "object", "properties": {"name": {"type": "string"}, "date": {"type": "string", "format": "datetime"}, "proj_key": {"type": "string"}, "role": {"$ref": "#/definitions/UserType"}}, "additionalProperties": {"type": "array", "items": {"$ref": "#/definitions/UserDetails"}}}, "SuccessMessage": {"type": "object", "properties": {"success": {"type": "string", "description": "Human readable message."}}, "required": ["success"]}, "ApiKey": {"type": "object", "required": ["api_key"], "properties": {"api_key": {"type": "string"}, "email": {"type": "string"}}}, "AccessToken": {"type": "object", "properties": {"access_token": {"type": "string"}}}, "ProjectUserAssignment": {"type": "object", "properties": {"username": {"type": "string", "description": "The username"}, "role": {"type": "string", "description": "The role to assign to the user"}, "force_role": {"type": "boolean", "default": true, "description": "If true, the role will be assigned also for existing users"}}, "required": ["username", "role"]}, "OidcTokenResponse": {"type": "object", "properties": {"access_token": {"type": "string"}, "id_token": {"type": "string"}, "refresh_token": {"type": "string"}}, "required": ["id_token", "refresh_token"]}, "AuditRecord": {"title": "AuditRecord", "type": "object", "properties": {"id": {"title": "Id", "type": "string"}, "timestamp": {"title": "Timestamp", "type": "string", "format": "datetime"}, "user_key": {"title": "User Key", "type": "string"}, "type": {"title": "Type", "type": "string"}, "message": {"title": "Message", "type": "string"}, "details": {"title": "Details", "type": "object"}, "proj_key": {"title": "Proj Key", "type": "string", "x-nullable": true}}, "required": ["id", "timestamp", "user_key", "type", "message", "details", "proj_key"]}}, "basePath": "/api/cps/user/v1"}
